{{ block title }}

{{ extends 'global/Progress_Bar.html' }}

{{ endblock }}

{{ block content }}

{{ formfield 'num_2b' }}

<button class="btn btn-primary" onclick="endTimer()" id="button">
    {{Lexicon.lex_next}}
    <input type="hidden" name="responseTime_2b" id="responseTime_2b" />
</button>


<script>
    // TIMER
    // This creates the variable that marks the start time
    let pageTimerID = -1;

    // This function automatically starts the timer when the page loads. 
    window.onload = function () {
        if (pageTimerID == -1) {
            pageTimerID = (new Date()).getTime();
            console.log(pageTimerID);
        }
    }

    // Stop timer when next button clicked
    function endTimer() {
        // When finalize purchase clicked, current time recorded
        let currentTime = (new Date()).getTime();
        console.log(currentTime);
        // Timer start time then subtracted from current time 
        document.getElementById("responseTime_2b").value = currentTime - pageTimerID;
        console.log(document.getElementById("responseTime_2b").value);
    }
</script>

{{ endblock }}